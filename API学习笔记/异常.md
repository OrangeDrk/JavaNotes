[TOC]



# ä»€ä¹ˆæ˜¯å¼‚å¸¸

> ä¸€ç§å¯ä»¥ç”±javaç±»å¤„ç†çš„é”™è¯¯ï¼Œå«å¼‚å¸¸



# å¼‚å¸¸çš„ç»§æ‰¿å…³ç³»



## å¼‚å¸¸çš„åˆ†ç±»

1. è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntimeExceptionï¼‰ï¼Œå¯ä»¥ä¸ç”¨å¤„ç†
   - ArithmeticException
   - ArrayIndexOutOfBoundsException
   - ClassCastException
2. ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œå¿…é¡»å¤„ç†
   - IOExceptionï¼šIOå¼‚å¸¸
   - FileNotFoundExceptionï¼šæ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸



## Errorï¼šæ— æ³•é€šè¿‡ä»£ç å¤„ç†çš„é”™è¯¯



# å¤„ç†å¼‚å¸¸

> æ–¹æ³•çš„é‡å†™
>
> å­ç±»å¼‚å¸¸ä¸ªæ•°å’Œçº§åˆ« <= çˆ¶ç±»å¼‚å¸¸ 

## try-catch

1. try:æ”¾çš„æ˜¯äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 

2. catchï¼šæ•è·å¼‚å¸¸

   - å¤„ç†æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§

     |                ä»£ç                  |              ç”¨å¤„              |
     | :---------------------------------: | :----------------------------: |
     |  System.out.println("æ–‡ä»¶ä¸å­˜åœ¨");  |         //1.ç»™å®¢æˆ·çœ‹çš„         |
     | System.out.println(e.getMessage()); |        //2.ç»™ç¨‹åºå‘˜çœ‹çš„        |
     |        e.printStackTrace();         | //3.æ‰“å°å †æ ˆä¿¡æ¯ï¼Œç»™ç¨‹åºå‘˜çœ‹çš„ |

## throws

> å£°æ˜å¼‚å¸¸ 
>
> åœ¨æ–¹æ³•å£°æ˜çš„æ—¶å€™æŠ›å‡ºå¼‚å¸¸
>
> è°ç”¨è°å¤„ç†å¼‚å¸¸

ğŸ¥‡**å¦‚æœmainæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†äº¤ç»™jvm**

```java
package demoException;
Â 
import java.io.FileInputStream;
import java.io.FileNotFoundException;
Â 
public class DemoException {

	/**
	 * ç¼–è¯‘æ—¶æ²¡æœ‰é”™è¯¯ï¼Œè¿è¡Œæ—¶é”™è¯¯------è¿è¡Œæ—¶å¼‚å¸¸   RuntimeException
	 * 
	 * è¿è¡Œæ—¶å¼‚å¸¸å¯ä»¥ä¸å¤„ç†ï¼Œå¦‚æœä»£ç å†™çš„ä¸¥è°¨ï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸
	 */
	public static void test1() {
		int x = 1/0;//é™¤0å¼‚å¸¸
		System.out.println(x);
		
		int[] a = new int[3];
		System.out.println(a[3]);//æ•°ç»„ä¸‹è¡¨è¶Šç•Œå¼‚å¸¸
	}
	
	/**
	 * ç¼–è¯‘æ—¶äº§ç”Ÿå¼‚å¸¸   CheckException  ------ç¼–è¯‘æ—¶å¼‚å¸¸   å¿…é¡»è¿›è¡Œå¤„ç†
	 * @param args
	 */
	public static void test2() {
		//tryæ”¾çš„æ˜¯äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 
		try {
			FileInputStream input = new FileInputStream("a.txt");
		} catch (FileNotFoundException e) {
			//catchæ•è·å¼‚å¸¸
			//å¤„ç†æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§
			System.out.println("æ–‡ä»¶ä¸å­˜åœ¨");//1.ç»™å®¢æˆ·çœ‹çš„
			System.out.println(e.getMessage());//2.ç»™ç¨‹åºå‘˜çœ‹çš„
			e.printStackTrace();//3.æ‰“å°å †æ ˆä¿¡æ¯ï¼Œç»™ç¨‹åºå‘˜çœ‹çš„
		}
	}
	//throwså£°æ˜å¼‚å¸¸
	public static void test3() throws FileNotFoundException {
		FileInputStream input = new FileInputStream("a.txt");
	}
Â 
	//å¦‚æœmainæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†äº¤ç»™jvm
	public static void main(String[] args) throws FileNotFoundException {
		test3();
	}
Â 
}
Â 

```



## å¼‚å¸¸çš„å¸¸ç”¨ä»£ç æ ¼å¼

```java
//å¼‚å¸¸çš„å¸¸ç”¨ä»£ç æ ¼å¼ï¼štryå¯ä»¥è·Ÿå¤šä¸ªcatch
		
//å½“æœ‰å¤šä¸ªcatchå—æ—¶ï¼Œæ•è·çš„é¡ºåº--->ä»å°åˆ°å¤§
public static void test4() {
    try {
        FileInputStream input = new FileInputStream("a.txt");
        input.read();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {

        e.printStackTrace();
    }
}

public static void test5() {
    try {
        FileInputStream input = new FileInputStream("a.txt");
        input.read();
    } catch (Exception e) {//Exceptionæœ€å¤§ï¼Œä¸çŸ¥é“è°å¤§ï¼Œç›´æ¥å†™Exception,æ•è·æ‰€æœ‰å¼‚å¸¸
        e.printStackTrace();
    }
}


//æŠ›å‡ºå¼‚å¸¸ï¼Œå¤šä¸ªå¼‚å¸¸â€œ,â€éš”å¼€ï¼Œå¼‚å¸¸æ²¡æœ‰å…ˆåé¡ºåºï¼Œ
public static void test6() throws FileNotFoundException,IOException{
    FileInputStream input = new FileInputStream("a.txt");
    input.read();
}


//ç›´æ¥å†™Exception,æ•è·æ‰€æœ‰å¼‚å¸¸
public static void test7() throws Exception {
    FileInputStream input = new FileInputStream("a.txt");
    input.read();
}


//finally
public static void test8() {
    FileInputStream input = null;
    try {
        input = new FileInputStream("a.txt");
        input.read();
    } catch (Exception e) {
        e.printStackTrace();
    }finally {
        //ä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸ï¼Œæœ€åéƒ½è¦æ‰§è¡Œçš„ä¸€æ®µä»£ç 
        if(input!=null) {
            try {
                input.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}

//ä¸èƒ½å¤šä¸ªtryè·Ÿä¸€ä¸ªcatch

//try-finallyè¯­æ³•ä¸Šæ˜¯å¯¹çš„ï¼Œä½†è¿™ç§å¼‚å¸¸ä¸èƒ½å¤„ç†
public static void test10() throws FileNotFoundException {
    FileInputStream input = null;
    try {
        input = new FileInputStream("a.txt");
    }finally {

    }
}

```



## ç»§æ‰¿å…³ç³»çš„å¼‚å¸¸



### ç»§æ‰¿çš„å…³ç³»å›¾

![](D:\javaè¾¾å†…èµ„æ–™\javaç¬”è®°\APIå­¦ä¹ ç¬”è®°\1.png)



### javaæ–¹æ³•é‡å†™æ—¶çš„å¼‚å¸¸é™åˆ¶

1. å­ç±»é‡å†™äº†çˆ¶ç±»å…·æœ‰å¼‚å¸¸å£°æ˜çš„æ–¹æ³•æ—¶ï¼Œå­ç±»ï¼š
   - ä¸æŠ›å‡ºå¼‚å¸¸
   - æŠ›å‡ºè·Ÿ**çˆ¶ç±»æ–¹æ³•ç›¸åŒçš„å¼‚å¸¸**æˆ–**è¯¥å¼‚å¸¸çš„å­ç±»**
2. å­ç±»é‡å†™çˆ¶ç±»å…·æœ‰å¼‚å¸¸å£°æ˜çš„æ–¹æ³•ï¼Œä¹Ÿå®ç°äº†å…·æœ‰ç›¸åŒæ–¹æ³•åç§°çš„æ¥å£ï¼Œä¸”æ¥å£ä¸­çš„æ–¹æ³•ä¹Ÿå…·æœ‰å¼‚å¸¸å£°æ˜æ—¶ï¼Œå­ç±»ï¼š
   - ä¸æŠ›å‡ºå¼‚å¸¸
   - æŠ›å‡º**çˆ¶ç±»æ–¹æ³•å£°æ˜å¼‚å¸¸**ä¸**æ¥å£æ–¹æ³•å£°æ˜å¼‚å¸¸**çš„**äº¤é›†**

```java
package demoException;
Â 
import java.io.IOException;
Â 
class A{
	public void f() throws IOException{
	}
}
Â 
//å¼‚å¸¸ä¸“æŒ‡ç¼–è¯‘æ—¶äº§ç”Ÿçš„å¼‚å¸¸
public class DemoException2 extends A{
	public void f() throws IOException,RuntimeException{
		//å¯ä»¥å£°æ˜å¤šä¸ªï¼Œä½†æ˜¯å¿…é¡»æ¯”çˆ¶ç±»å¼‚å¸¸å°
		//RuntimeExceptionï¼šè¿è¡Œæ˜¯å¼‚å¸¸ï¼Œæ­¤å¤„ä¸“é—¨æŒ‡ç¼–è¯‘æ—¶å¼‚å¸¸ï¼ŒæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸æ²¡æœ‰å½±å“
	}
Â 
}
Â 
```



# è‡ªå®šä¹‰å¼‚å¸¸ä»¥åŠä½¿ç”¨

> è‡ªå®šä¹‰å¼‚å¸¸ç±»

```java
package demoException;
Â 
//è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»å¿…é¡»è¦ç»§æ‰¿å¼‚å¸¸ç±»ï¼ˆExceptionï¼Œæˆ–è€…ä»»æ„ä¸€ä¸ªå¼‚å¸¸ï¼‰
public class AgeIllException extends Exception{
	public AgeIllException() {
		//è°ƒç”¨çˆ¶ç±»å¸¦å‚çš„æ„é€ æ–¹æ³•ï¼Œä¼ é€’å¼‚å¸¸ä¿¡æ¯
		super("è¯·è¾“å…¥æ­£ç¡®çš„å¹´é¾„ï¼ˆ1-130ï¼‰");
	}
Â 
}

```

> Studentå®ç°ç±»
>
> thow åé¢åªèƒ½æœ‰ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡
>
> thowsåé¢å¯ä»¥å£°æ˜å¤šä¸ªå¼‚å¸¸

```java
package demoException;
Â 
public class Student {
	private int age;
Â 
	public int getAge() {
		return age;
	}
Â 
	public void setAge(int age) throws AgeIllException {
		if(age<=0||age>130) {
			throw new AgeIllException();//æŠ›å¼‚å¸¸
		}
		this.age = age;
	}
Â 
	public static void main(String[] args) {
		Student stu = new Student();
		try {
			stu.setAge(230);
			System.out.println(stu.getAge());
		} catch (AgeIllException e) {
			System.out.println(e.getMessage());
		}
	}
}
```

