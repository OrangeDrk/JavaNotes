[TOC]

> è®²å¸ˆï¼š
>
> - å§“åï¼šè‚–æ—­ä¼Ÿ
> - è”ç³»æ–¹å¼ï¼šxiaoxuwei4478
> - å¤‡æ³¨æ–¹å¼ï¼š



# èƒŒæ™¯

å¼€å‘ç¯å¢ƒçš„ç‰¹ç‚¹ï¼š

1. åšå¤æ‚çš„é…ç½®ï¼Œåšæ­¥éª¤ç¹ççš„å‘å¸ƒå®‰è£…ï¼ˆspringæ¡†æ¶ï¼‰â˜¹
2. é…ç½®ï¼Œå®‰è£…ç›¸å¯¹éå¸¸ç®€å•ï¼ˆspringbootï¼‰ğŸ™‚

ç”±äº==ç®€å•-å¿«==ç‰¹ç‚¹ã€‚å‡ºç°äº†springæ–°çš„æ¡†æ¶ï¼šspringboot



# SpringBoot

åŸºäºspringå®ç°å¿«é€Ÿé…ç½®ï¼Œæ–¹ä¾¿æ­å»ºçš„ä¸€ä¸ªå·¥å…·æ¡†æ¶

## springbootç‰¹ç‚¹

> 1. ç‹¬ç«‹è¿è¡Œçš„springå®¹å™¨
> 2. å†…åµŒçš„servletå®¹å™¨
> 3. springbootç®€åŒ–ä¾èµ–
> 4. è‡ªåŠ¨é…ç½®

### ç‹¬ç«‹è¿è¡Œçš„springå®¹å™¨

> å›å¿†ï¼šspringæ¡†æ¶è¿è¡Œï¼Œå¿…é¡»ä¾èµ–ç¬¬ä¸‰æ–¹çš„å®¹å™¨æ‰å¯ä»¥å®ç°è¿è¡Œå¯åŠ¨ï¼šå¤–éƒ¨Tomcat

SpringBootï¼šå¯ä»¥åƒå¼€å‘ä»£ç ä¸€æ ·ï¼Œä½¿ç”¨mainæ–¹æ³•å¼€å¯ä¸€ä¸ªç¨‹åºçš„å…¥å£ã€‚å®ç°Springå®¹å™¨ç‹¬ç«‹è¿è¡Œ

### å†…åµŒçš„servletå®¹å™¨

> å›å¿†ï¼šåœ¨å¼€å‘webåº”ç”¨æ—¶ï¼Œæ‰“æˆwaråŒ…ï¼Œæ”¾åˆ°Tomcatè¿è¡Œ

SpringBootï¼šç”±äºå­˜åœ¨ç‹¬ç«‹è¿è¡Œçš„ç‰¹ç‚¹ï¼Œè‡ªåŠ¨é…ç½®ç‰¹ç‚¹ï¼Œå¯ä»¥ä¸“é—¨ä¸ºwebå®¹å™¨åšå•ç‹¬é…ç½®ã€‚

é…åˆç¬¬ä¸€ä¸ªç‰¹ç‚¹ç‹¬ç«‹è¿è¡Œçš„Springå®¹å™¨ï¼Œä¾ç„¶å¯ä»¥ä½¿ç”¨mainæ–¹æ³•å¯åŠ¨ä¸€ä¸ªwebåº”ç”¨ã€‚

é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨Tomcatï¼Œå¯ä»¥æ¢æˆå…¶ä»–å®¹å™¨ï¼šjettyã€undertow

### springbootç®€åŒ–ä¾èµ–

SpringBootåŸºäºSpringï¼Œæ‰©å±•äº†å¤§é‡çš„ä»£ç ï¼Œè¿™äº›ä»£ç éƒ½éœ€è¦éå¸¸å¤æ‚éå¸¸å¤šçš„jaråŒ…æ”¯æŒã€‚

SpringBootæ–¹ä¾¿ä¾èµ–çš„ä½¿ç”¨ï¼Œå®ç°äº†åˆ©ç”¨mavenè¿™ç§é¡¹ç›®ç®¡ç†å·¥å…·çš„ç®€åŒ–ä¾èµ–ï¼Œä¾‹å¦‚ï¼š

- ä¾èµ–äº†`spring-boot-starter-web`
- ç›¸å½“äºæŠŠä¹‹å‰ä½¿ç”¨çš„æ‰€æœ‰spring springmvc jacksonç­‰ç›¸å…³çš„ä¾èµ–jaråŒ…å…¨éƒ¨å¯¼å…¥åˆ°å·¥ç¨‹é‡Œæ¥ã€‚
- è€Œä¸”ç®€åŒ–ä¾èµ–æ ¹æ®ä½¿ç”¨åœºæ™¯ä¸åŒï¼Œä½¿ç”¨åŠŸèƒ½ä¸åŒåŒºåˆ†çš„

### è‡ªåŠ¨é…ç½®

SpringBootæå€¡0é…ç½®æ–‡ä»¶ï¼ˆxmlæ¶ˆå¤±äº†ï¼‰ã€‚

å°è£…äº†å¤§é‡è‡ªåŠ¨é…ç½®ä»£ç ã€‚å¯ä»¥æ ¹æ®é¡¹ç›®ä¸­ä½¿ç”¨çš„ä¾èµ–ï¼Œå®ç°åº•å±‚è‡ªåŠ¨é…ç½®

ä¾‹å¦‚ï¼šä»¥å‰ä½¿ç”¨SSMæ¡†æ¶é…ç½®æŒä¹…å±‚

- å‡†å¤‡xmlé…ç½®æ–‡ä»¶ï¼Œxmlé…ç½®æ–‡ä»¶ä¸­æœ‰å¾ˆå¤šbeanæ ‡ç­¾
  - DataSourceï¼šusernameï¼Œpasswordã€driverclassã€url
  - sqlSessionï¼šåˆ«ååŒ…ï¼Œæ‰«æmybatisé…ç½®æ–‡ä»¶ï¼ŒåŠ è½½çš„æ˜ å°„æ–‡ä»¶mapper.xmlï¼Œæ³¨å…¥datasourceç­‰ç­‰
  - mapperScanï¼šæ‰«ææ¥å£mapperçš„æ‰€åœ¨åŒ…è·¯å¾„

> 1. SpringBootä¸éœ€è¦é…ç½®ä»»ä½•xmlæ–‡ä»¶ä¸ºæŒä¹…å±‚mybatisæ•´åˆåšå‡†å¤‡ã€‚
> 2. åªéœ€è¦æä¾›å¯¹åº”çš„å±æ€§å€¼å³å¯
> 3. å¹¶ä¸æ˜¯æ‰€æœ‰çš„åœºæ™¯éƒ½éœ€è¦æŒä¹…å±‚æ”¯æŒï¼Œå½“æˆ‘ä»¬ä¾èµ–äº†`spring-boot-starter-jdbc`çš„æ—¶å€™SpringBootå¯ä»¥åˆ¤æ–­å³å°†ä½¿ç”¨æŒä¹…å±‚ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„é…ç½®å†…å®¹





# æ­å»ºç¬¬ä¸€ä¸ªSpringbootå·¥ç¨‹

> æ­å»ºä¹‹å‰éœ€è¦äº†è§£ã€Mavençš„ç»§æ‰¿ã€‘ã€ã€Mavenèšåˆï¼ˆmoduleèšåˆï¼‰ã€‘
>
> **è¯¦è§£æŸ¥çœ‹**ï¼š
>
> [Mavené¡¹ç›®ç®¡ç†]: 1ã€Mavené¡¹ç›®ç®¡ç†.md

## åˆ›å»ºä¸€ä¸ªçˆ¶çº§å·¥ç¨‹ã€èšåˆå·¥ç¨‹

> å®ç°SpringBootæ‰€æœ‰demoæ¡ˆä¾‹çš„æµ‹è¯•ç¼–å†™

1. ä½¿ç”¨ï¼š`quickstart`éª¨æ¶åˆ›å»ºå·¥ç¨‹

   ![](img\æ­å»ºç¬¬ä¸€ä¸ªSpringBootå·¥ç¨‹1.png)

2. ä¿®æ”¹`pom.xml`æ–‡ä»¶ï¼Œæ·»åŠ `<packaging>`ç±»å‹ä¸º`pom`

   ```xml
   <packaging>pom</packaging>
   ```

3. çˆ¶çº§å·¥ç¨‹ç»§æ‰¿`spring-boot-starter-parent`èµ„æº

   ```xml
   <parent>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter-parent</artifactId>
       <version>1.5.9.RELEASE</version>
   </parent>
   ```

   

## ä½¿ç”¨èšåˆåŠŸèƒ½å®ç°ç¬¬ä¸€ä¸ªæµ‹è¯•æ¡ˆä¾‹

1. å³é”®`springboot_parent`é€‰æ‹©ã€new-moduleã€‘åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ï¼Œä½¿ç”¨`quickstart`éª¨æ¶

   ![](img\springbootç¬¬ä¸€ä¸ªæµ‹è¯•module.png)

2. ä½¿ç”¨demoæ¡ˆä¾‹å·¥ç¨‹ç¼–å†™é…ç½®ä¸€ä¸ªwebåº”ç”¨ï¼Œå®ç°è®¿é—®

   > urlï¼š`localhost:8080/hello?name=wang`
   >
   > è¿”å›å“åº”ï¼š`hello springboot I am wang`

3. æ­å»ºä¸€ä¸ªwebåº”ç”¨ï¼Œspringbootå·²ç»é€šè¿‡è‡ªåŠ¨é…ç½®å®ç°å†…åµŒservletå®¹å™¨çš„è°ƒç”¨ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªç®€åŒ–ä¾èµ–å³å¯

   > é€šè¿‡IDEAåˆ›å»ºå­å·¥ç¨‹æ—¶ï¼Œå­å·¥ç¨‹ä¼šè‡ªåŠ¨æ·»åŠ `<parent>`æ ‡ç­¾ï¼Œç»§æ‰¿çˆ¶çº§å·¥ç¨‹
   >
   > åœ¨å®ç°è¯¥webåº”ç”¨çš„pom.xmlä¸­æ·»åŠ å¦‚ä¸‹é…ç½®

   ```xml
   <dependency>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter-web</artifactId>
   </dependency>
   ```

4. ç¼–å†™å¯åŠ¨ç±»

   > å¯¹äºSpringBootæ¥è®²ï¼Œèƒ½å¤Ÿå®ç°ç‹¬ç«‹è¿è¡Œï¼ŒåŸºäºSpringå®Œæˆäº†ä¸€å¥—æ–¹æ³•çš„å°è£…ï¼Œæœ€ç»ˆåªéœ€è¦è°ƒç”¨runæ–¹æ³•ï¼Œåœ¨mainæ–¹æ³•ä¸­æ‰§è¡Œï¼Œå³å¯å®ç°å•ç‹¬å¯åŠ¨springã€springMVCæ¡†æ¶è¿›ç¨‹

   ```java
   /**
    * ä½¿å½“å‰classç±»æˆä¸ºæµ‹è¯•æ¡ˆä¾‹ä¸­å”¯ä¸€çš„springbootå¯åŠ¨ç±»ï¼Œéœ€è¦ä½¿ç”¨mainè°ƒç”¨runæ–¹æ³•
    * éœ€è¦ä½¿ç”¨springbootçš„æ ¸å¿ƒæ³¨è§£
    */
   @SpringBootApplication
   public class StarterDemo01 {
       public static void main(String[] args) {
           //è°ƒç”¨springbootçš„é™æ€runæ–¹æ³•ä¼ é€’å½“å‰å¯åŠ¨ç±»
           //åå°„å¯¹è±¡
           SpringApplication.run(StarterDemo01.class,args);
       }
   }
   ```

   

5. å®ç°controllerç¼–å†™

   > controller serviceé€šè¿‡ä¾èµ–æ³¨å…¥ã€æ§åˆ¶åè½¬
   >
   > æ‰€æœ‰çš„ä»£ç æ‰€åœ¨çš„åŒ…åï¼Œå¿…é¡»æ˜¯åˆ›å»ºMavenæ˜¯groupIdè·¯å¾„ä¸‹ï¼ˆè·ŸåŒ…çš„ä¸‹çº§åŒ…ï¼‰
   >
   > ![](img\springbooté¡¹ç›®çš„è‡ªå®šä¹‰åŒ…ä½ç½®.png)

   - IndexController

     ```java
     /**
      * RestControlleråœ¨springæ›´æ–°å‡çº§è¿‡ç¨‹ä¸­å‡ºç°
      * ç»„åˆæ³¨è§£ï¼Œå¯ä»¥å°†å•ç‹¬åŠŸèƒ½çš„å¤šä¸ªæ³¨è§£ç»„åˆæˆæ–°çš„æ³¨è§£ï¼Œæ–°çš„æ³¨è§£
      * å…·å¤‡æ‰€æœ‰å•ä¸ªæ³¨è§£çš„åŠŸèƒ½
      */
     @RestController//ä¸“é—¨ä¸ºå½“å‰ç¯å¢ƒä¸­ä¹ æƒ¯ä½¿ç”¨ajaxäº¤äº’é€»è¾‘å‡†å¤‡çš„
     //ç»„åˆæ³¨è§£ï¼Œå½“å‰controllerç±»çš„æ‰€æœ‰æ–¹æ³•çš„è¿”å›å€¼ï¼Œéƒ½ä¼šå°è£…åˆ°å“åº”ä½“çš„æ•°æ®ä¸­
     public class IndexController {
         @Autowired
         private IndexService indexService;
         
         //æ¥æ”¶ä¸€ä¸ªè¯·æ±‚ /hello æ¥æ”¶å‚æ•° name è¿”å›æ‰“æ‹›å‘¼
         @RequestMapping("/hello")
         //@ResponseBody//å°†è¿”å›å€¼ç›´æ¥ä½œä¸ºå“åº”ä½“å†…å®¹ä¸å»æ‹¼æ¥é¡µé¢å‰ç¼€åç¼€ï¼Œè®¿é—®é¡µé¢
         public String sayHi(String name){
             return indexService.sayHi(name);
         }
     }
     
     ```

   - IndexService

     > åœ¨SpringBootä¸­ï¼Œä¸éœ€è¦åˆ›å»ºæ¥å£æ–‡ä»¶ï¼Œç›´æ¥é€šè¿‡æ³¨è§£å®Œæˆ

     ```java
     /**
      * 1ã€ä¹‹å‰ä»£ç ä½¿ç”¨æ¥å£ï¼Œå®ç°æ¾è€¦åˆï¼Œæ³¨å…¥å®ç°ç±»å®Œæˆæ‰€æœ‰ä¸šåŠ¡å±‚ä»£ç ç¼–å†™
      * 2ã€äº’è”ç½‘æ¡†æ¶éƒ½æ˜¯ç›´æ¥åœ¨å®ç°ç±»ä¸Šæ·»åŠ serviceæ³¨è§£å®Œæˆ
      */
     @Service
     public class IndexService {
         public String sayHi(String name){
             return "hello spring boot i am "+name;
         }
     }
     
     ```

     

# å¯¹æ¯”SpringBootå’ŒSpring+SpringMVC

| **å¯¹æ¯”å†…å®¹**                                                 | **springboot**                | **spring+springmvc**                                         |
| ------------------------------------------------------------ | ----------------------------- | ------------------------------------------------------------ |
| web.xml                                                      | é…ç½®æ–‡ä»¶æ¶ˆå¤±äº†                | ç¬¬ä¸‰æ–¹tomcatè¿è¡Œæ—¶åŠ è½½web.xmlé€šè¿‡web.xmlåŠ è½½æ¡†æ¶é…ç½®xml      |
| applicationContext.xml                                       | é…ç½®æ–‡ä»¶æ¶ˆå¤±äº†                | 1.context:component-scan:åŒ…æ‰«æï¼Œæ‰«æåŒ…è·¯å¾„ä¸‹æ‰€æœ‰ç±»ä¸Šçš„æ³¨è§£@Controller,@Service,@Repository,@Autowired,@Resource,@Value  2.å…¶ä»–beanæ ‡ç­¾é…ç½® |
| spring-mvc.xml                                               | é…ç½®æ–‡ä»¶æ¶ˆå¤±äº†                | å¼€å¯springmvcæ³¨è§£é©±åŠ¨ä½¿å¾—@RequestMapping,@ResponseBody..     |
| ä¸€äº›propertiesæ–‡ä»¶  mysql.properties  datasource.properties  redis.properties | æ•´åˆäº†  applicatin.properties | ç”¨æ¥é…ç½®éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºbeanå¯¹è±¡çš„å±æ€§ ${name}ç›¸å½“äºpropertiesæœ‰name=*** |