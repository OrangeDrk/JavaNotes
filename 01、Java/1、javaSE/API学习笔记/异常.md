[TOC]



# ä»€ä¹ˆæ˜¯å¼‚å¸¸

> ä¸€ç§å¯ä»¥ç”±javaç±»å¤„ç†çš„é”™è¯¯ï¼Œå«å¼‚å¸¸
>
> åœ¨Javaä¸­ç”¨äºå‘ç°é—®é¢˜ã€åé¦ˆé—®é¢˜ä»¥åŠè§£å†³é—®é¢˜çš„ä¸€å¥—æœºåˆ¶



# å¼‚å¸¸ç›´æ¥å­ç±»

> - Throwableï¼šå¼‚å¸¸çš„é¡¶çº§çˆ¶ç±»
>

## Exceptionï¼šå¼‚å¸¸

> æ˜¯ä¸€ä¸ªåˆç†çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥å¤„ç†ä¹Ÿå¯ä»¥ä¸å¤„ç†

1. è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntimeExceptionï¼‰ï¼Œ==å¯ä»¥ä¸ç”¨å¤„ç†==
   - ArithmeticExceptionï¼šç®—æ•°å¼‚å¸¸
   - ArrayIndexOutOfBoundsExceptionï¼šæ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸
   - ClassCastExceptionï¼šç±»å‹è½¬æ¢å¼‚å¸¸
   - NullPointerExceptionï¼šç©ºæŒ‡é’ˆå¼‚å¸¸
   - NumberFomatExceptionï¼šæ•°å­—æ ¼å¼å¼‚å¸¸
2. ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œ==å¿…é¡»å¤„ç†==
   - IOExceptionï¼šIOå¼‚å¸¸
   - FileNotFoundExceptionï¼šæ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸
   - CloneNotSupportExceptionï¼šå…‹éš†ä¸æ”¯æŒå¼‚å¸¸
   - ParseExceptionï¼šè§£æå¼‚å¸¸



## Errorï¼šæ— æ³•é€šè¿‡ä»£ç å¤„ç†çš„é”™è¯¯

> åˆç†çš„åº”ç”¨ç¨‹åºï¼Œä¸€èˆ¬æ˜¯ç”±å¤–ç•Œçš„ç¯å¢ƒæˆ–è€…éœ€æ±‚æ¥å¯¼è‡´çš„



# å¤„ç†å¼‚å¸¸

> æ–¹æ³•çš„é‡å†™
>
> å­ç±»å¼‚å¸¸ä¸ªæ•°å’Œçº§åˆ« <= çˆ¶ç±»å¼‚å¸¸ 
>
> æ–¹æ³•æŠ›å‡ºå¤šå°‘ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸å°±è¦æ•è·å¤šå°‘ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸

## try-catch

> æŠ›å‡ºå¤šä¸ªå¼‚å¸¸æƒ³è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œæ‰¾åˆ°å¤šä¸ªå¼‚å¸¸ç±»çš„ç»Ÿä¸€çˆ¶ç±»è¿›è¡Œç»Ÿä¸€æ•è·

1. try:æ”¾çš„æ˜¯äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 

2. catchï¼šæ•è·å¼‚å¸¸

   - å¤„ç†æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§

     |                ä»£ç                  |                          ç”¨å¤„                          |
     | :---------------------------------: | :----------------------------------------------------: |
     |  System.out.println("æ–‡ä»¶ä¸å­˜åœ¨");  |                     //1.ç»™å®¢æˆ·çœ‹çš„                     |
     | System.out.println(e.getMessage()); |                    //2.ç»™ç¨‹åºå‘˜çœ‹çš„                    |
     |        e.printStackTrace();         | //3.æ‰“å°å †æ ˆä¿¡æ¯ï¼Œç»™ç¨‹åºå‘˜çœ‹çš„<br />ï¼ˆæ‰“å°å¼‚å¸¸æ ˆè½¨è¿¹ï¼‰ |
     
   - ()ï¼šç”¨äºåŒ¹é…tryå—é‡Œå‡ºç°çš„å¼‚å¸¸çš„ç±»å‹
   
   - åˆ†ç»„æ•è·ï¼š
   
     > å¯¹äºæŠ›å‡ºçš„å¤šä¸ªå¼‚å¸¸è¿›è¡Œæ•è·ï¼Œç”¨`|`æ¥åˆ†å‰²ä¸€ç»„ä¹‹é—´çš„å¼‚å¸¸ç±»ï¼ˆJDK1.7ï¼‰
   
     ```java
     try{
         
     }catch (NullPointerException | ArrayIndexOutOfBoundsException e){
     
     }
     ```
   
     

## throws

> å£°æ˜å¼‚å¸¸ 
>
> åœ¨æ–¹æ³•å£°æ˜çš„æ—¶å€™æŠ›å‡ºå¼‚å¸¸
>
> è°ç”¨è°å¤„ç†å¼‚å¸¸

ğŸ¥‡**å¦‚æœmainæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†äº¤ç»™jvm**

```java
package demoException;
Â 
import java.io.FileInputStream;
import java.io.FileNotFoundException;
Â 
public class DemoException {

	/**
	 * ç¼–è¯‘æ—¶æ²¡æœ‰é”™è¯¯ï¼Œè¿è¡Œæ—¶é”™è¯¯------è¿è¡Œæ—¶å¼‚å¸¸   RuntimeException
	 * 
	 * è¿è¡Œæ—¶å¼‚å¸¸å¯ä»¥ä¸å¤„ç†ï¼Œå¦‚æœä»£ç å†™çš„ä¸¥è°¨ï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸
	 */
	public static void test1() {
		int x = 1/0;//é™¤0å¼‚å¸¸
		System.out.println(x);
		
		int[] a = new int[3];
		System.out.println(a[3]);//æ•°ç»„ä¸‹è¡¨è¶Šç•Œå¼‚å¸¸
	}
	
	/**
	 * ç¼–è¯‘æ—¶äº§ç”Ÿå¼‚å¸¸   CheckException  ------ç¼–è¯‘æ—¶å¼‚å¸¸   å¿…é¡»è¿›è¡Œå¤„ç†
	 * @param args
	 */
	public static void test2() {
		//tryæ”¾çš„æ˜¯äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 
		try {
			FileInputStream input = new FileInputStream("a.txt");
		} catch (FileNotFoundException e) {
			//catchæ•è·å¼‚å¸¸
			//å¤„ç†æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§
			System.out.println("æ–‡ä»¶ä¸å­˜åœ¨");//1.ç»™å®¢æˆ·çœ‹çš„
			System.out.println(e.getMessage());//2.ç»™ç¨‹åºå‘˜çœ‹çš„
			e.printStackTrace();//3.æ‰“å°å †æ ˆä¿¡æ¯ï¼Œç»™ç¨‹åºå‘˜çœ‹çš„
		}
	}
	//throwså£°æ˜å¼‚å¸¸
	public static void test3() throws FileNotFoundException {
		FileInputStream input = new FileInputStream("a.txt");
	}
Â 
	//å¦‚æœmainæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†äº¤ç»™jvm
	public static void main(String[] args) throws FileNotFoundException {
		test3();
	}
Â 
}
Â 

```



## finally

> ä¸ç®¡tryå—æˆ–è€…catchå—æ˜¯å¦æ‰§è¡Œï¼Œfinallyå—é‡Œçš„å†…å®¹ä¸€å®šä¼šæ‰§è¡Œå®Œæ¯•



## å¼‚å¸¸çš„å¸¸ç”¨ä»£ç æ ¼å¼

```java
//å¼‚å¸¸çš„å¸¸ç”¨ä»£ç æ ¼å¼ï¼štryå¯ä»¥è·Ÿå¤šä¸ªcatch
		
//å½“æœ‰å¤šä¸ªcatchå—æ—¶ï¼Œæ•è·çš„é¡ºåº--->ä»å°åˆ°å¤§
public static void test4() {
    try {
        FileInputStream input = new FileInputStream("a.txt");
        input.read();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {

        e.printStackTrace();
    }
}

public static void test5() {
    try {
        FileInputStream input = new FileInputStream("a.txt");
        input.read();
    } catch (Exception e) {//Exceptionæœ€å¤§ï¼Œä¸çŸ¥é“è°å¤§ï¼Œç›´æ¥å†™Exception,æ•è·æ‰€æœ‰å¼‚å¸¸
        e.printStackTrace();
    }
}


//æŠ›å‡ºå¼‚å¸¸ï¼Œå¤šä¸ªå¼‚å¸¸â€œ,â€éš”å¼€ï¼Œå¼‚å¸¸æ²¡æœ‰å…ˆåé¡ºåºï¼Œ
public static void test6() throws FileNotFoundException,IOException{
    FileInputStream input = new FileInputStream("a.txt");
    input.read();
}


//ç›´æ¥å†™Exception,æ•è·æ‰€æœ‰å¼‚å¸¸
public static void test7() throws Exception {
    FileInputStream input = new FileInputStream("a.txt");
    input.read();
}


//finally
public static void test8() {
    FileInputStream input = null;
    try {
        input = new FileInputStream("a.txt");
        input.read();
    } catch (Exception e) {
        e.printStackTrace();
    }finally {
        //ä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸ï¼Œæœ€åéƒ½è¦æ‰§è¡Œçš„ä¸€æ®µä»£ç 
        if(input!=null) {
            try {
                input.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}

//ä¸èƒ½å¤šä¸ªtryè·Ÿä¸€ä¸ªcatch

//try-finallyè¯­æ³•ä¸Šæ˜¯å¯¹çš„ï¼Œä½†è¿™ç§å¼‚å¸¸ä¸èƒ½å¤„ç†
public static void test10() throws FileNotFoundException {
    FileInputStream input = null;
    try {
        input = new FileInputStream("a.txt");
    }finally {

    }
}

```



## ç»§æ‰¿å…³ç³»çš„å¼‚å¸¸



### ç»§æ‰¿çš„å…³ç³»å›¾

![](E:\javaç¬”è®°\APIå­¦ä¹ ç¬”è®°\1.png)



### javaæ–¹æ³•é‡å†™æ—¶çš„å¼‚å¸¸é™åˆ¶(ç¼–è¯‘æ—¶å¼‚å¸¸)

1. å­ç±»é‡å†™äº†çˆ¶ç±»å…·æœ‰å¼‚å¸¸å£°æ˜çš„æ–¹æ³•æ—¶ï¼Œå­ç±»ï¼š
   - ä¸æŠ›å‡ºå¼‚å¸¸
   - æŠ›å‡ºè·Ÿ**çˆ¶ç±»æ–¹æ³•ç›¸åŒçš„å¼‚å¸¸**æˆ–**è¯¥å¼‚å¸¸çš„å­ç±»**
2. å­ç±»é‡å†™çˆ¶ç±»å…·æœ‰å¼‚å¸¸å£°æ˜çš„æ–¹æ³•ï¼Œä¹Ÿå®ç°äº†å…·æœ‰ç›¸åŒæ–¹æ³•åç§°çš„æ¥å£ï¼Œä¸”æ¥å£ä¸­çš„æ–¹æ³•ä¹Ÿå…·æœ‰å¼‚å¸¸å£°æ˜æ—¶ï¼Œå­ç±»ï¼š
   - ä¸æŠ›å‡ºå¼‚å¸¸
   - æŠ›å‡º**çˆ¶ç±»æ–¹æ³•å£°æ˜å¼‚å¸¸**ä¸**æ¥å£æ–¹æ³•å£°æ˜å¼‚å¸¸**çš„**äº¤é›†**

```java
package demoException;
Â 
import java.io.IOException;
Â 
class A{
	public void f() throws IOException{
	}
}
Â 
//å¼‚å¸¸ä¸“æŒ‡ç¼–è¯‘æ—¶äº§ç”Ÿçš„å¼‚å¸¸
public class DemoException2 extends A{
	public void f() throws IOException,RuntimeException{
		//å¯ä»¥å£°æ˜å¤šä¸ªï¼Œä½†æ˜¯å¿…é¡»æ¯”çˆ¶ç±»å¼‚å¸¸å°
		//RuntimeExceptionï¼šè¿è¡Œæ˜¯å¼‚å¸¸ï¼Œæ­¤å¤„ä¸“é—¨æŒ‡ç¼–è¯‘æ—¶å¼‚å¸¸ï¼ŒæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸æ²¡æœ‰å½±å“
	}
Â 
}
Â 
```



# è‡ªå®šä¹‰å¼‚å¸¸ä»¥åŠä½¿ç”¨

> è‡ªå®šä¹‰å¼‚å¸¸ç±»
>
> - ==å¦‚æœè‡ªå®šä¹‰å¼‚å¸¸ç±»ç»§æ‰¿é™¤RunTimeExceptionä»¥åŠå­ç±»çš„å…¶ä»–ç±»é»˜è®¤å°±æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸==

```java
package demoException;
Â 
//è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»å¿…é¡»è¦ç»§æ‰¿å¼‚å¸¸ç±»ï¼ˆExceptionï¼Œæˆ–è€…ä»»æ„ä¸€ä¸ªå¼‚å¸¸ï¼‰
public class AgeIllException extends Exception{
	public AgeIllException() {
		//è°ƒç”¨çˆ¶ç±»å¸¦å‚çš„æ„é€ æ–¹æ³•ï¼Œä¼ é€’å¼‚å¸¸ä¿¡æ¯
		super("è¯·è¾“å…¥æ­£ç¡®çš„å¹´é¾„ï¼ˆ1-130ï¼‰");
	}
Â 
}

```

> Studentå®ç°ç±»
>
> thow åé¢åªèƒ½æœ‰ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡
>
> thowsåé¢å¯ä»¥å£°æ˜å¤šä¸ªå¼‚å¸¸

```java
package demoException;
Â 
public class Student {
	private int age;
Â 
	public int getAge() {
		return age;
	}
Â 
	public void setAge(int age) throws AgeIllException {
		if(age<=0||age>130) {
			throw new AgeIllException();//æŠ›å¼‚å¸¸
		}
		this.age = age;
	}
Â 
	public static void main(String[] args) {
		Student stu = new Student();
		try {
			stu.setAge(230);
			System.out.println(stu.getAge());
		} catch (AgeIllException e) {
			System.out.println(e.getMessage());
		}
	}
}
```



# try-finallyé¢˜

## æ•°å€¼

> è¿”å›1

```java
public static int m1(){
    int i = 1;
    try {
        /*
            æ‰§è¡Œåˆ°tryå—å†…å®¹ï¼Œreturn i++ï¼›---return 1ï¼›
            å½“ç¨‹åºè¦æ‰§è¡Œreturnè¿›è¡Œè¿”å›æ—¶ï¼Œæ£€æµ‹åˆ°ä¸‹é¢æœ‰finallyå—ï¼Œfinallyå—é‡Œçš„å†…å®¹ä¸€å®šè¦æ‰§è¡Œ
            Javaå°±ä¼šæŠŠreturn 1ï¼›è¿™ä¸ªä»£ç çš„åŠŸèƒ½ï¼ŒçŠ¶æ€ä»¥åŠè¿”å›å€¼éƒ½ä¼šè¿›è¡ŒæŒ‚èµ·ä¸æ‰§è¡Œ
            æŒ‚èµ·ä¹‹åæ‰§è¡Œfinallyå—é‡Œçš„å†…å®¹ï¼Œ i++ --- 3ï¼›æ‰§è¡Œå®Œæ¯•
            å½“finallyå—æ‰§è¡Œå®Œæ¯•ï¼ŒJavaä¼šå›å¤´æ‰§è¡ŒæŒ‚èµ·çš„å†…å®¹ return 1ï¼›
             */
        return i++;
    }finally {
        i++;//3
    }
}
```



> è¿”å›ï¼š2

```java
public static int test2(){
    int i = 1;
    try {
        return i++;//æ­¤returnè¢«æŒ‚èµ·
    } finally {
        return i++;
        //æ­¤returnå¿…å®šä¼šè¿è¡Œåˆ°ï¼Œä½†æ˜¯æ˜¯returnè¯­å¥ï¼Œä¼šç›´æ¥returnæ­¤å¤„çš„i++
    }
}
```





## å¯¹è±¡

> è¿”å›çš„æ˜¯`Person{name='jack', gender=ç”·, age=17}`
>
> ==tryä¸­returnæŒ‚èµ·çš„æ˜¯pçš„åœ°å€å€¼==

```java
public static Person m2(){
    Person p = new Person();
    p.name = "lili";
    p.age = 10;
    p.gender = 'å¥³';
    try {
        p.name = "tom";
        p.age = 11;
        p.gender = 'ç”·';
        return p;
    } finally {
        p.name = "jack";
        p.age = 17;
        p.gender = 'ç”·';
    }

}
```



## String

> è¿”å›çš„æ˜¯`Hello`
>
> ==tryä¸­returnæŒ‚èµ·çš„æ˜¯stræŒ‡å‘Helloçš„åœ°å€å€¼==

```java
public static String test1(){
        String str = "Hello";
        try {
            return str;
        } finally {
            str = "Hello World";
        }
    }
```

